{"ast":null,"code":"import React,{useState,useEffect}from'react';import BeginWorkoutButton from'./BeginWorkoutButton';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const WorkoutForm=_ref=>{let{onBegin}=_ref;const[userId,setUserId]=useState('');const[templates,setTemplates]=useState([]);const[selectedTemplate,setSelectedTemplate]=useState('');useEffect(()=>{const fetchTemplates=async()=>{try{const response=await fetch('https://bwg36wqc6b.execute-api.us-east-1.amazonaws.com/dev/workouts/templates',{method:'GET',headers:{'Content-Type':'application/json'}});const data=await response.json();const parsedData=JSON.parse(data.body);if(Array.isArray(parsedData)){setTemplates(parsedData);}else{console.error('Parsed data is not an array:',parsedData);}}catch(error){console.error('Error fetching templates:',error);}};fetchTemplates();},[]);const handleBegin=async()=>{if(userId&&selectedTemplate){try{const response=await fetch(\"https://bwg36wqc6b.execute-api.us-east-1.amazonaws.com/dev/workouts/begin?userId=\".concat(userId,\"&templateId=\").concat(selectedTemplate),{method:'POST',headers:{'Content-Type':'application/json'}});const data=await response.json();const parsedBody=JSON.parse(data.body);const{workoutId,exercises}=parsedBody;onBegin(userId,workoutId,exercises);}catch(error){console.error('Error fetching exercises:',error);}}else{alert('Please enter a User ID and select a workout template.');}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"User ID:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:userId,onChange:e=>setUserId(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Workout Template:\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedTemplate,onChange:e=>setSelectedTemplate(e.target.value),required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a template\"}),templates.map(template=>/*#__PURE__*/_jsx(\"option\",{value:template.workout_template_id,children:template.name},template.workout_template_id))]})]}),/*#__PURE__*/_jsx(BeginWorkoutButton,{onClick:handleBegin})]});};export default WorkoutForm;","map":{"version":3,"names":["React","useState","useEffect","BeginWorkoutButton","jsx","_jsx","jsxs","_jsxs","WorkoutForm","_ref","onBegin","userId","setUserId","templates","setTemplates","selectedTemplate","setSelectedTemplate","fetchTemplates","response","fetch","method","headers","data","json","parsedData","JSON","parse","body","Array","isArray","console","error","handleBegin","concat","parsedBody","workoutId","exercises","alert","children","type","value","onChange","e","target","required","map","template","workout_template_id","name","onClick"],"sources":["/Users/dominicameneyro/Desktop/Life/Fitness/UI/fitness-workouts/src/components/WorkoutForm.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport BeginWorkoutButton from './BeginWorkoutButton';\n\nconst WorkoutForm = ({ onBegin }) => {\n  const [userId, setUserId] = useState('');\n  const [templates, setTemplates] = useState([]);\n  const [selectedTemplate, setSelectedTemplate] = useState('');\n\n  useEffect(() => {\n    const fetchTemplates = async () => {\n      try {\n        const response = await fetch('https://bwg36wqc6b.execute-api.us-east-1.amazonaws.com/dev/workouts/templates', {\n          method: 'GET',\n          headers: { 'Content-Type': 'application/json' }\n        });\n        const data = await response.json();\n        const parsedData = JSON.parse(data.body);\n\n        if (Array.isArray(parsedData)) {\n          setTemplates(parsedData);\n        } else {\n          console.error('Parsed data is not an array:', parsedData);\n        }\n      } catch (error) {\n        console.error('Error fetching templates:', error);\n      }\n    };\n\n    fetchTemplates();\n  }, []);\n\n  const handleBegin = async () => {\n    if (userId && selectedTemplate) {\n      try {\n        const response = await fetch(`https://bwg36wqc6b.execute-api.us-east-1.amazonaws.com/dev/workouts/begin?userId=${userId}&templateId=${selectedTemplate}`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n        });\n\n        const data = await response.json();\n        const parsedBody = JSON.parse(data.body);\n        const { workoutId, exercises } = parsedBody;\n\n        onBegin(userId, workoutId, exercises);\n      } catch (error) {\n        console.error('Error fetching exercises:', error);\n      }\n    } else {\n      alert('Please enter a User ID and select a workout template.');\n    }\n  };\n\n  return (\n    <div>\n      <div>\n        <label>User ID:</label>\n        <input\n          type=\"text\"\n          value={userId}\n          onChange={(e) => setUserId(e.target.value)}\n          required\n        />\n      </div>\n      <div>\n        <label>Workout Template:</label>\n        <select\n          value={selectedTemplate}\n          onChange={(e) => setSelectedTemplate(e.target.value)}\n          required\n        >\n          <option value=\"\">Select a template</option>\n          {templates.map((template) => (\n            <option key={template.workout_template_id} value={template.workout_template_id}>\n              {template.name}\n            </option>\n          ))}\n        </select>\n      </div>\n      <BeginWorkoutButton onClick={handleBegin} />\n    </div>\n  );\n};\n\nexport default WorkoutForm;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}